version: '3'

volumes:
    exclude_node_modules:

services:
    frontend:
        build: 
            context: ./frontend
            args: 
                APP_ENV: dev  # dev or prod
        ports:
            - "4201:4200"
        volumes:
            - ./frontend/app/:/app/frontend/
            - exclude_node_modules:/app/frontend/node_modules/
    #     restart: always
    backend:
        build: ./backend
        ports:
            - "5001:8080"
        volumes:
            - ./backend:/app/backend
        image: arkareem/pdf-mobile-integration-backend
    # database:
    #     build: ./database
    #     ports:
    #         - "6379:6379"
    #     volumes:
    #         - ./database/redis_data:/data